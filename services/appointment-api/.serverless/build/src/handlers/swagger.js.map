{
  "version": 3,
  "sources": ["../../../../src/handlers/swagger.ts"],
  "sourcesContent": ["import * as fs from 'fs';\nimport * as path from 'path';\n\n// Cargar el archivo openapi.yaml una sola vez cuando el Lambda se inicie.\nconst yamlSpec = fs.readFileSync(path.join(__dirname, '../../openapi.yaml'), 'utf8');\n\n/**\n * @description Sirve la interfaz de usuario de Swagger UI.\n * Genera un HTML que carga los assets (CSS, JS) desde una CDN p\u00FAblica.\n */\nexport const ui = async () => {\n  const html = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <title>Swagger UI</title>\n      <link rel=\"stylesheet\" type=\"text/css\" href=\"https://unpkg.com/swagger-ui-dist@5/swagger-ui.css\" />\n      <style>\n        html { box-sizing: border-box; overflow: -moz-scrollbars-vertical; overflow-y: scroll; }\n        *, *:before, *:after { box-sizing: inherit; }\n        body { margin:0; background: #fafafa; }\n      </style>\n    </head>\n    <body>\n      <div id=\"swagger-ui\"></div>\n      <script src=\"https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js\" charset=\"UTF-8\"></script>\n      <script src=\"https://unpkg.com/swagger-ui-dist@5/swagger-ui-standalone-preset.js\" charset=\"UTF-8\"></script>\n      <script>\n        window.onload = function() {\n          // Iniciar Swagger UI\n          window.ui = SwaggerUIBundle({\n            url: \"/openapi.yaml\", // URL donde se sirve la especificaci\u00F3n\n            dom_id: '#swagger-ui',\n            deepLinking: true,\n            presets: [\n              SwaggerUIBundle.presets.apis,\n              SwaggerUIStandalonePreset\n            ],\n            plugins: [\n              SwaggerUIBundle.plugins.DownloadUrl\n            ],\n            layout: \"StandaloneLayout\"\n          });\n        };\n      </script>\n    </body>\n    </html>\n  `;\n\n  return {\n    statusCode: 200,\n    headers: {\n      'Content-Type': 'text/html',\n    },\n    body: html,\n  };\n};\n\n/**\n * @description Sirve el archivo de especificaci\u00F3n openapi.yaml directamente.\n * La interfaz de usuario de Swagger har\u00E1 una petici\u00F3n a esta ruta para obtener la definici\u00F3n de la API.\n */\nexport const spec = async () => {\n    return {\n        statusCode: 200,\n        headers: {\n            'Content-Type': 'application/yaml',\n        },\n        body: yamlSpec,\n    };\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoB;AACpB,WAAsB;AAGtB,IAAM,WAAc,gBAAkB,UAAK,WAAW,oBAAoB,GAAG,MAAM;AAM5E,IAAM,KAAK,YAAY;AAC5B,QAAM,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCb,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,SAAS;AAAA,MACP,gBAAgB;AAAA,IAClB;AAAA,IACA,MAAM;AAAA,EACR;AACF;AAMO,IAAM,OAAO,YAAY;AAC5B,SAAO;AAAA,IACH,YAAY;AAAA,IACZ,SAAS;AAAA,MACL,gBAAgB;AAAA,IACpB;AAAA,IACA,MAAM;AAAA,EACV;AACJ;",
  "names": []
}
